<!DOCTYPE html> <html lang="en"> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1"> <title>Blackbaud Internet Solutions | Developer Guide | Custom Content Parts</title> <link rel="icon" href="/bbis/assets/img/favicon.ico" type="image/ico"> <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css"> <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css"> <link rel="stylesheet" href="/bbis/assets/css/combine.site.css?v=2018-11-01-18:16:41"> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-2418840-40', 'auto'); ga('send', 'pageview'); </script> </head> <body class="layout-compress section-guide subsection-custom-content-parts"> <nav class="navbar" role="navigation" id="top"> <div class="container"> <div class="navbar-header"> <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bb-navbar"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> <a href="/bbis/" class="navbar-brand"> <img src="/bbis/assets/img/logo-bbis.png" alt="Blackbaud Internet Solutions" class="img-responsive" /> </a> </div> <!-- navbar-header --> <div class="collapse navbar-collapse" id="bb-navbar"> <ul class="nav navbar-nav navbar-right"> <li > <a href="/bbis/start/"> Getting Started </a> </li> <li class="active"> <a href="/bbis/guide/"> Developer Guide </a> </li> <li > <a href="/bbis/reference/"> Technical Reference </a> </li> <li class=""> <a href="/bbis/code/"> Code Samples </a> </li> <li > <a href="/bbis/help/"> <i class="fa fa-fw fa-question-circle hidden-xs"></i> <span class="visible-xs-inline">Help</span> </a> </li> </ul> </div> <!-- .navbar-collapse --> </div> <!-- .container --> </nav> <!-- .navbar.navbar-inverse --> <div class="content"> <div class="container"> <div class="row"> <div class="col-md-3 hidden-xs hidden-sm"> <div class="sidebar"> <ul class="nav nav-pills nav-stacked nav-sidebar"> <!-- Ridiculous Bootstrap Scrollspy bug that required this nested linkage to function properly --> <li class="hidden"> <a href="#top">Top</a> <ul class="nav"> <li> <a href="#top">Top</a> </li> </ul> </li> <li class="back-to back-to-section"> <a href="/bbis/guide/"> Developer Guide </a> </li> <li class=""> <a href="/bbis/guide/advanced-donation-form/">Advanced Donation Form</a> </li> <li class=""> <a href="/bbis/guide/blackbaud-secure-payments/">Blackbaud Secure Payments</a> </li> <li class=" active scrollspy-start "> <a href="/bbis/guide/custom-content-parts/">Custom Content Parts</a> <ul class="nav"> <li> <a href="#overview">Overview</a> </li> <li> <a href="#example-barebones">Example - Barebones</a> </li> <li> <a href="#example-link-picker">Example - Link Picker</a> </li> <li> <a href="#example-image-picker">Example - Image Picker</a> </li> <li> <a href="#example-image-folder-picker">Example - Image Folder Picker</a> </li> </ul> </li> <li class=""> <a href="/bbis/guide/custom-framework-parts/">Custom Framework Parts</a> </li> <li class=""> <a href="/bbis/guide/custom-handlers/">Custom Handlers</a> </li> <li class=""> <a href="/bbis/guide/user-imports/">User Imports</a> </li> <li class=""> <a href="/bbis/guide/responsive-design/">Responsive Design</a> </li> <li class="back-to back-to-top"> <a href="#top" class=""> <i class="fa fa-caret-square-o-up"></i> </a> </li> </ul> </div> </div> <!-- .col-md-3 --> <div class="col-md-9 readability"> <h2 id="overview">Custom Content Parts</h2> <p>You can create part types which use your custom JavaScript and HTML. Parts based on these types are called content parts.</p> <p>Content parts are one of two types of custom parts in Blackbaud Internet Solutions. To create custom content parts, you need access to Custom parts in Blackbaud Internet Solutions, the ability to create part types, parts, and to add parts to a page. Knowledge of HTML and JavaScript is required.</p> <p>Parts have a display component which appears to Blackbaud Internet Solutions users who view a part on a page. Parts also have an editor component which is accessible to administrators. The editor component is used to configure a part. For information about Parts, see the guides for Blackbaud Internet Solutions: Blackbaud Internet Solutions User Guides at a Glance.</p> <p>When you create a custom content part type, you can define the behavior for the display and the editor using HTML and JavaScript. You also specify a JavaScript to run when the part is loaded onto a page. What the JavaScript function does is up to you. For example, you can use the Initialize JavaScript function to initialize forms on either the display or the editor, display messages, and execute other functions. You can include other JavaScript libraries or make use of the existing reference to the jQuery library on the Blackbaud Internet Solutions page.</p> <p>To create a content part type, from Custom parts, you click New content part</p> <p><img src="../img/custom-parts-new-content-part.png" alt="" class="img-responsive" /></p> <p><img src="../img/administration-custom-parts.png" alt="" class="img-responsive" /></p> <p>The New content part page appears.</p> <p><img src="../img/new-content-part-page.png" alt="" class="img-responsive" /></p> <p>Using the text from any of the examples below, enter the appropriate information into the "Initialize JavaScript function," "Editor," and "Web page display" text fields. Click the save button. The procedure for creating an instance of your Custom Content Part is now handled the same as creating any other type of part. Your Custom Content Part shows up as an available part type.</p> <h3 id="example-barebones">Barebones Example</h3> <p>Let's start with the most basic example of a custom content part. In this example we highlight two important steps:</p> <ol> <li>Implement the <code>BLACKBAUD.api.customPartEditor.onSave</code> method</li> <li>In the editor view, save settings to the <code>BLACKBAUD.api.customPartEditor.settings</code> object</li> <li>In the display view, read settings passed to our initialize function</li> </ol> <ul class="nav nav-tabs"> <li class="active"><a href="#example-barebones-initialize" data-toggle="tab">Initialize</a></li> <li><a href="#example-barebones-editor" data-toggle="tab">Editor</a></li> <li><a href="#example-barebones-display" data-toggle="tab">Display</a></li> <li class="tab-download"> <a href="http://www.github.com/blackbaud-community/BBIS-Custom-Content-Parts" target="_blank" data-toggle="tooltip" data-placement="left" title="Download on GitHub"> <i class="fa fa-github"></i> </a> </li> </ul> <div class="tab-content"> <div class="tab-pane active" id="example-barebones-initialize"> <div class="copy-code" title="Copy to Clipboard" data-trigger="manual" data-placement="left" data-container="body"> <i class="fa fa-files-o"></i> </div> <div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">initBarebonesExample</span></code></pre></div> </div> <div class="tab-pane" id="example-barebones-editor"> <div class="copy-code" title="Copy to Clipboard" data-trigger="manual" data-placement="left" data-container="body"> <i class="fa fa-files-o"></i> </div> <div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;p&gt;</span>
  <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"greeting"</span><span class="nt">&gt;</span>Greeting:<span class="nt">&lt;/label&gt;</span>
  <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"greeting"</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/p&gt;</span>
      
<span class="nt">&lt;script&gt;</span>
<span class="o">!</span><span class="kd">function</span><span class="p">(</span><span class="nx">$</span><span class="p">)</span> <span class="p">{</span>
  
  <span class="nx">$</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    
    <span class="c1">// Read our previously saved greeting (if it exists)</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">BLACKBAUD</span><span class="p">.</span><span class="nx">api</span><span class="p">.</span><span class="nx">customPartEditor</span><span class="p">.</span><span class="nx">settings</span><span class="p">.</span><span class="nx">greeting</span> <span class="o">!=</span> <span class="s1">''</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">$</span><span class="p">(</span><span class="s1">'#greeting'</span><span class="p">).</span><span class="nx">val</span><span class="p">(</span><span class="nx">BLACKBAUD</span><span class="p">.</span><span class="nx">api</span><span class="p">.</span><span class="nx">customPartEditor</span><span class="p">.</span><span class="nx">settings</span><span class="p">.</span><span class="nx">greeting</span><span class="p">);</span>
    <span class="p">}</span>
    
    <span class="c1">// We must implement the onSave method</span>
    <span class="c1">// Returning true or false controls whether the save is successful</span>
    <span class="nx">BLACKBAUD</span><span class="p">.</span><span class="nx">api</span><span class="p">.</span><span class="nx">customPartEditor</span><span class="p">.</span><span class="nx">onSave</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      
      <span class="c1">// Save our greeting</span>
      <span class="nx">BLACKBAUD</span><span class="p">.</span><span class="nx">api</span><span class="p">.</span><span class="nx">customPartEditor</span><span class="p">.</span><span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
        <span class="na">greeting</span><span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#greeting'</span><span class="p">).</span><span class="nx">val</span><span class="p">()</span>
      <span class="p">};</span>
      
      <span class="c1">// Required to allow the settings to save and the part to close</span>
      <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
    <span class="p">};</span>
    
  <span class="p">});</span>
  
<span class="p">}(</span><span class="nx">jQuery</span><span class="p">);</span>     
<span class="nt">&lt;/script&gt;</span></code></pre></div> </div> <div class="tab-pane" id="example-barebones-display"> <div class="copy-code" title="Copy to Clipboard" data-trigger="manual" data-placement="left" data-container="body"> <i class="fa fa-files-o"></i> </div> <div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;p&gt;</span>Hello, <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"greeting"</span><span class="nt">&gt;&lt;/span&gt;&lt;/p&gt;</span>
<span class="nt">&lt;script&gt;</span>
<span class="kd">function</span> <span class="nx">initBarebonesExample</span><span class="p">(</span><span class="nx">instance</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">$</span><span class="p">(</span><span class="s1">'#'</span> <span class="o">+</span> <span class="nx">instance</span><span class="p">.</span><span class="nx">elementId</span> <span class="o">+</span> <span class="s1">' .greeting'</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="nx">instance</span><span class="p">.</span><span class="nx">settings</span><span class="p">.</span><span class="nx">greeting</span><span class="p">);</span>
<span class="p">}</span>
<span class="nt">&lt;/script&gt;</span></code></pre></div> </div> </div> <h3 id="example-link-picker">Link Picker</h3> <p>In addition to saving settings and building a custom inferface, the Custom Content Part also the following mechanism for interacting with the link picker:</p> <ul> <li><code>BLACKBAUD.api.customPartEditor.links.canLaunchLinkPicker</code></li> <li><code>BLACKBAUD.api.customPartEditor.links.launchLinkPicker</code></li> </ul> <ul class="nav nav-tabs"> <li class="active"><a href="#example-link-picker-initialize" data-toggle="tab">Initialize</a></li> <li><a href="#example-link-picker-editor" data-toggle="tab">Editor</a></li> <li><a href="#example-link-picker-display" data-toggle="tab">Display</a></li> <li class="tab-download"> <a href="http://www.github.com/blackbaud-community/BBIS-Custom-Content-Parts" target="_blank" data-toggle="tooltip" data-placement="left" title="Download on GitHub"> <i class="fa fa-github"></i> </a> </li> </ul> <div class="tab-content"> <div class="tab-pane active" id="example-link-picker-initialize"> <div class="copy-code" title="Copy to Clipboard" data-trigger="manual" data-placement="left" data-container="body"> <i class="fa fa-files-o"></i> </div> <div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">initLinkPickerExample</span></code></pre></div> </div> <div class="tab-pane" id="example-link-picker-editor"> <div class="copy-code" title="Copy to Clipboard" data-trigger="manual" data-placement="left" data-container="body"> <i class="fa fa-files-o"></i> </div> <div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;p&gt;</span>
  <span class="nt">&lt;strong&gt;</span>Selected Link Name:<span class="nt">&lt;/strong&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"selected-link-name"</span><span class="nt">&gt;&lt;/span&gt;</span>
<span class="nt">&lt;/p&gt;</span>
    
<span class="nt">&lt;p&gt;</span>
  <span class="nt">&lt;strong&gt;</span>Selected Link URL:<span class="nt">&lt;/strong&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"selected-link-url"</span><span class="nt">&gt;&lt;/span&gt;</span>
<span class="nt">&lt;/p&gt;</span>
  
<span class="nt">&lt;p&gt;</span>
  <span class="nt">&lt;button</span> <span class="na">class=</span><span class="s">"btn-select"</span><span class="nt">&gt;</span>Select Link<span class="nt">&lt;/button&gt;</span>
<span class="nt">&lt;/p&gt;</span>
      
<span class="nt">&lt;script&gt;</span>
<span class="o">!</span><span class="kd">function</span><span class="p">(</span><span class="nx">$</span><span class="p">)</span> <span class="p">{</span>
  
  <span class="nx">$</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    
    <span class="c1">// Read our previously saved name (if it exists)</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">BLACKBAUD</span><span class="p">.</span><span class="nx">api</span><span class="p">.</span><span class="nx">customPartEditor</span><span class="p">.</span><span class="nx">settings</span><span class="p">.</span><span class="nx">selectedName</span> <span class="o">!=</span> <span class="s1">''</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">$</span><span class="p">(</span><span class="s1">'.selected-link-name'</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="nx">BLACKBAUD</span><span class="p">.</span><span class="nx">api</span><span class="p">.</span><span class="nx">customPartEditor</span><span class="p">.</span><span class="nx">settings</span><span class="p">.</span><span class="nx">selectedName</span><span class="p">);</span>
    <span class="p">}</span>
    
    <span class="c1">// Read our previously saved url (if it exists)</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">BLACKBAUD</span><span class="p">.</span><span class="nx">api</span><span class="p">.</span><span class="nx">customPartEditor</span><span class="p">.</span><span class="nx">settings</span><span class="p">.</span><span class="nx">selectedUrl</span> <span class="o">!=</span> <span class="s1">''</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">$</span><span class="p">(</span><span class="s1">'.selected-link-url'</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="nx">BLACKBAUD</span><span class="p">.</span><span class="nx">api</span><span class="p">.</span><span class="nx">customPartEditor</span><span class="p">.</span><span class="nx">settings</span><span class="p">.</span><span class="nx">selectedUrl</span><span class="p">);</span>
    <span class="p">}</span>
    
    <span class="c1">// We must implement the onSave method</span>
    <span class="c1">// Returning true or false controls whether the save is successful</span>
    <span class="nx">BLACKBAUD</span><span class="p">.</span><span class="nx">api</span><span class="p">.</span><span class="nx">customPartEditor</span><span class="p">.</span><span class="nx">onSave</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      
      <span class="c1">// Save our settings</span>
      <span class="nx">BLACKBAUD</span><span class="p">.</span><span class="nx">api</span><span class="p">.</span><span class="nx">customPartEditor</span><span class="p">.</span><span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
        <span class="na">selectedName</span><span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'.selected-link-name'</span><span class="p">).</span><span class="nx">text</span><span class="p">(),</span>
        <span class="na">selectedUrl</span><span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'.selected-link-url'</span><span class="p">).</span><span class="nx">text</span><span class="p">()</span>
      <span class="p">};</span>
      
      <span class="c1">// Required to allow the settings to save and the part to close</span>
      <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
    <span class="p">};</span>
    
    <span class="c1">// Bind to the link launcher button</span>
    <span class="nx">$</span><span class="p">(</span><span class="s1">'.btn-select'</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
      
      <span class="c1">// Stop the button from submitting our form</span>
      <span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
      
      <span class="c1">// Verify the user has permission to launch the link picker</span>
      <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">BLACKBAUD</span><span class="p">.</span><span class="nx">api</span><span class="p">.</span><span class="nx">customPartEditor</span><span class="p">.</span><span class="nx">links</span><span class="p">.</span><span class="nx">canLaunchLinkPicker</span><span class="p">)</span> <span class="p">{</span>
        
        <span class="nx">alert</span><span class="p">(</span><span class="s1">'You do not have permission to launch the link picker.'</span><span class="p">);</span>
        
      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        
        <span class="c1">// Launch the link picker, passing in our callback</span>
        <span class="nx">BLACKBAUD</span><span class="p">.</span><span class="nx">api</span><span class="p">.</span><span class="nx">customPartEditor</span><span class="p">.</span><span class="nx">links</span><span class="p">.</span><span class="nx">launchLinkPicker</span><span class="p">({</span>
          <span class="na">callback</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">selectedLink</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">$</span><span class="p">(</span><span class="s1">'.selected-link-name'</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="nx">selectedLink</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
            <span class="nx">$</span><span class="p">(</span><span class="s1">'.selected-link-url'</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="nx">selectedLink</span><span class="p">.</span><span class="nx">url</span><span class="p">);</span>
          <span class="p">}</span>
        <span class="p">});</span>
        
      <span class="p">}</span>
    <span class="p">})</span>
    
  <span class="p">});</span>
  
<span class="p">}(</span><span class="nx">jQuery</span><span class="p">);</span>     
<span class="nt">&lt;/script&gt;</span></code></pre></div> </div> <div class="tab-pane" id="example-link-picker-display"> <div class="copy-code" title="Copy to Clipboard" data-trigger="manual" data-placement="left" data-container="body"> <i class="fa fa-files-o"></i> </div> <div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;p&gt;</span>
  See my link: <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"selected-link"</span><span class="nt">&gt;&lt;/span&gt;</span>
<span class="nt">&lt;/p&gt;</span>
    
<span class="nt">&lt;script&gt;</span>
<span class="kd">function</span> <span class="nx">initLinkPickerExample</span><span class="p">(</span><span class="nx">instance</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">link</span> <span class="o">=</span> <span class="s1">'&lt;a href="'</span> <span class="o">+</span> <span class="nx">instance</span><span class="p">.</span><span class="nx">settings</span><span class="p">.</span><span class="nx">selectedUrl</span> <span class="o">+</span> <span class="s1">'"&gt;'</span> <span class="o">+</span> <span class="nx">instance</span><span class="p">.</span><span class="nx">settings</span><span class="p">.</span><span class="nx">selectedName</span> <span class="o">+</span> <span class="s1">'&lt;/a&gt;'</span><span class="p">;</span>
  <span class="nx">$</span><span class="p">(</span><span class="s1">'#'</span> <span class="o">+</span> <span class="nx">instance</span><span class="p">.</span><span class="nx">elementId</span> <span class="o">+</span> <span class="s1">' .selected-link'</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="nx">link</span><span class="p">);</span>
<span class="p">}</span>
<span class="nt">&lt;/script&gt;</span></code></pre></div> </div> </div> <h3 id="example-image-picker">Image Picker</h3> <p>Very similar to our link picker example, the Custom Content Part also exposes mechanisms to launch the image picker via the following:</p> <ul> <li><code>BLACKBAUD.api.customPartEditor.canLaunchImagePicker</code></li> <li><code>BLACKBAUD.api.customPartEditor.launchImagePicker()</code></li> </ul> <p>In this example, we've also introduced some more robust styling an error handling, in an effort to provide you with a more real-world example. As you can see, the Custom Content Part allows you to develop very polished and custom administrative user experiences.</p> <ul class="nav nav-tabs"> <li class="active"><a href="#example-image-picker-initialize" data-toggle="tab">Initialize</a></li> <li><a href="#example-image-picker-editor" data-toggle="tab">Editor</a></li> <li><a href="#example-image-picker-display" data-toggle="tab">Display</a></li> <li class="tab-download"> <a href="http://www.github.com/blackbaud-community/BBIS-Custom-Content-Parts" target="_blank" data-toggle="tooltip" data-placement="left" title="Download on GitHub"> <i class="fa fa-github"></i> </a> </li> </ul> <div class="tab-content"> <div class="tab-pane active" id="example-image-picker-initialize"> <div class="copy-code" title="Copy to Clipboard" data-trigger="manual" data-placement="left" data-container="body"> <i class="fa fa-files-o"></i> </div> <div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">imageHighlighterRender</span></code></pre></div> </div> <div class="tab-pane" id="example-image-picker-editor"> <div class="copy-code" title="Copy to Clipboard" data-trigger="manual" data-placement="left" data-container="body"> <i class="fa fa-files-o"></i> </div> <div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;script&gt;</span>
<span class="o">!</span><span class="kd">function</span><span class="p">(</span><span class="nx">$</span><span class="p">)</span> <span class="p">{</span>
  
  <span class="kd">function</span> <span class="nx">setupSettings</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">BLACKBAUD</span><span class="p">.</span><span class="nx">api</span><span class="p">.</span><span class="nx">customPartEditor</span><span class="p">.</span><span class="nx">settings</span><span class="p">.</span><span class="nx">text</span> <span class="o">==</span> <span class="s1">'undefined'</span> <span class="o">||</span> 
        <span class="k">typeof</span> <span class="nx">BLACKBAUD</span><span class="p">.</span><span class="nx">api</span><span class="p">.</span><span class="nx">customPartEditor</span><span class="p">.</span><span class="nx">settings</span><span class="p">.</span><span class="nx">image</span> <span class="o">==</span> <span class="s1">'undefined'</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">BLACKBAUD</span><span class="p">.</span><span class="nx">api</span><span class="p">.</span><span class="nx">customPartEditor</span><span class="p">.</span><span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
        <span class="na">text</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span>
        <span class="na">image</span><span class="p">:</span> <span class="p">{</span>
          <span class="na">url</span><span class="p">:</span> <span class="s1">''</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
  
  <span class="kd">function</span> <span class="nx">bindImagePicker</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">BLACKBAUD</span><span class="p">.</span><span class="nx">api</span><span class="p">.</span><span class="nx">customPartEditor</span><span class="p">.</span><span class="nx">images</span><span class="p">.</span><span class="nx">canLaunchImagePicker</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">$</span><span class="p">(</span><span class="s1">'.error-permission'</span><span class="p">).</span><span class="nx">show</span><span class="p">();</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="nx">$</span><span class="p">(</span><span class="s1">'a.ImagePicker'</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
        <span class="nx">BLACKBAUD</span><span class="p">.</span><span class="nx">api</span><span class="p">.</span><span class="nx">customPartEditor</span><span class="p">.</span><span class="nx">images</span><span class="p">.</span><span class="nx">launchImagePicker</span><span class="p">({</span>
          <span class="na">callback</span><span class="p">:</span> <span class="nx">renderImage</span>
        <span class="p">});</span>
      <span class="p">});</span>
    <span class="p">}</span>
  <span class="p">}</span>
  
  <span class="kd">function</span> <span class="nx">bindSave</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">BLACKBAUD</span><span class="p">.</span><span class="nx">api</span><span class="p">.</span><span class="nx">customPartEditor</span><span class="p">.</span><span class="nx">onSave</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">success</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
      
      <span class="nx">$</span><span class="p">(</span><span class="s1">'.error-validation'</span><span class="p">).</span><span class="nx">hide</span><span class="p">();</span>
      <span class="nx">$</span><span class="p">(</span><span class="s1">'[data-validate]'</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">element</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">element</span><span class="p">.</span><span class="nx">val</span><span class="p">()</span> <span class="o">==</span> <span class="s1">''</span><span class="p">)</span> <span class="p">{</span>
          <span class="nx">$</span><span class="p">(</span><span class="nx">element</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="s1">'validate'</span><span class="p">)).</span><span class="nx">show</span><span class="p">();</span>
          <span class="nx">success</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
        <span class="p">}</span>
      <span class="p">});</span>
      
      <span class="c1">// Save text</span>
      <span class="nx">BLACKBAUD</span><span class="p">.</span><span class="nx">api</span><span class="p">.</span><span class="nx">customPartEditor</span><span class="p">.</span><span class="nx">settings</span><span class="p">.</span><span class="nx">text</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#field-highlighter-text'</span><span class="p">).</span><span class="nx">val</span><span class="p">();</span>
            
      <span class="k">return</span> <span class="nx">success</span><span class="p">;</span>
    <span class="p">}</span>    
  <span class="p">}</span>
    
  <span class="kd">function</span> <span class="nx">renderText</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">$</span><span class="p">(</span><span class="s1">'#field-highlighter-text'</span><span class="p">).</span><span class="nx">val</span><span class="p">(</span><span class="nx">BLACKBAUD</span><span class="p">.</span><span class="nx">api</span><span class="p">.</span><span class="nx">customPartEditor</span><span class="p">.</span><span class="nx">settings</span><span class="p">.</span><span class="nx">text</span><span class="p">);</span> 
  <span class="p">}</span>
  
  <span class="kd">function</span> <span class="nx">renderImage</span><span class="p">(</span><span class="nx">o</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">o</span><span class="p">.</span><span class="nx">name</span> <span class="o">!=</span> <span class="s1">'undefined'</span> <span class="o">&amp;&amp;</span> <span class="nx">o</span><span class="p">.</span><span class="nx">url</span> <span class="o">!=</span> <span class="s1">'undefined'</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">$</span><span class="p">(</span><span class="s1">'.ImagePicker .SearchFieldText'</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="nx">o</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
      <span class="nx">$</span><span class="p">(</span><span class="s1">'.ImagePickerRender'</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="s1">'&lt;img alt="" src="'</span> <span class="o">+</span> <span class="nx">o</span><span class="p">.</span><span class="nx">url</span> <span class="o">+</span> <span class="s1">'" /&gt;'</span><span class="p">);</span>
      <span class="nx">$</span><span class="p">(</span><span class="s1">'#field-highlighter-image-name'</span><span class="p">).</span><span class="nx">val</span><span class="p">(</span><span class="nx">o</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
      <span class="nx">$</span><span class="p">(</span><span class="s1">'#field-highlighter-image-url'</span><span class="p">).</span><span class="nx">val</span><span class="p">(</span><span class="nx">o</span><span class="p">.</span><span class="nx">url</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="nx">BLACKBAUD</span><span class="p">.</span><span class="nx">api</span><span class="p">.</span><span class="nx">customPartEditor</span><span class="p">.</span><span class="nx">settings</span><span class="p">.</span><span class="nx">image</span> <span class="o">=</span> <span class="nx">o</span><span class="p">;</span>
  <span class="p">}</span>
  
  <span class="nx">$</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">setupSettings</span><span class="p">();</span>
    <span class="nx">bindImagePicker</span><span class="p">();</span>
    <span class="nx">bindSave</span><span class="p">();</span>
    <span class="nx">renderText</span><span class="p">();</span>
    <span class="nx">renderImage</span><span class="p">(</span><span class="nx">BLACKBAUD</span><span class="p">.</span><span class="nx">api</span><span class="p">.</span><span class="nx">customPartEditor</span><span class="p">.</span><span class="nx">settings</span><span class="p">.</span><span class="nx">image</span><span class="p">);</span>
  <span class="p">});</span>
  
<span class="p">}(</span><span class="nx">jQuery</span><span class="p">);</span>
<span class="nt">&lt;/script&gt;</span>

<span class="nt">&lt;style&gt;</span>
<span class="nc">.error</span> <span class="p">{</span> <span class="nl">display</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span> <span class="nl">color</span><span class="p">:</span> <span class="m">#FF0000</span><span class="p">;</span> <span class="nl">font-weight</span><span class="p">:</span> <span class="nb">bold</span><span class="p">;</span> <span class="p">}</span>
<span class="nt">&lt;/style&gt;</span>

<span class="nt">&lt;div&gt;</span>
  <span class="nt">&lt;ul&gt;</span>
    <span class="nt">&lt;li</span> <span class="na">class=</span><span class="s">"error error-permission"</span><span class="nt">&gt;</span>You do not have permission to launch the image picker.<span class="nt">&lt;/li&gt;</span>
    <span class="nt">&lt;li</span> <span class="na">class=</span><span class="s">"error error-validation error-text"</span><span class="nt">&gt;</span>Text is required.<span class="nt">&lt;/li&gt;</span>
    <span class="nt">&lt;li</span> <span class="na">class=</span><span class="s">"error error-validation error-image"</span><span class="nt">&gt;</span>Image is required.<span class="nt">&lt;/li&gt;</span>
  <span class="nt">&lt;/ul&gt;</span>
<span class="nt">&lt;/div&gt;</span>

<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"TabContainer"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"FieldSetRow"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"FieldSetColumn FieldSetColumnFirst"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"Field"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"FieldHeading"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"field-highlighter-text"</span> <span class="na">class=</span><span class="s">"FieldLabel"</span><span class="nt">&gt;</span>Text:<span class="nt">&lt;/label&gt;</span>
          <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"FieldRequired"</span><span class="nt">&gt;</span>*<span class="nt">&lt;/span&gt;</span>
          <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"clear"</span><span class="nt">&gt;&lt;/span&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"FieldContentText"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"field-highlighter-text"</span> <span class="na">class=</span><span class="s">"FieldSelect FieldInput"</span> <span class="na">data-validate=</span><span class="s">".error-text"</span> <span class="nt">/&gt;</span>
          <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"hidden"</span> <span class="na">id=</span><span class="s">"field-highlighter-image-name"</span> <span class="na">data-validate=</span><span class="s">".error-image"</span> <span class="nt">/&gt;</span>
          <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"hidden"</span> <span class="na">id=</span><span class="s">"field-highlighter-image-url"</span> <span class="na">data-validate=</span><span class="s">".error-image"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
      <span class="nt">&lt;/div&gt;</span>
      <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"Field"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"FieldHeading"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"field-highlighter-image"</span> <span class="na">class=</span><span class="s">"FieldLabel"</span><span class="nt">&gt;</span>Image:<span class="nt">&lt;/label&gt;</span>
          <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"FieldRequired"</span><span class="nt">&gt;</span>*<span class="nt">&lt;/span&gt;</span>
          <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"clear"</span><span class="nt">&gt;&lt;/span&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"FieldContent"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"SearchFieldContainer"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"SearchFieldBox"</span><span class="nt">&gt;</span>
              <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"#"</span> <span class="na">class=</span><span class="s">"SearchField ImagePicker"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"SearchFieldIcon"</span><span class="nt">&gt;</span>
                  <span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">"/images/pencil_16.gif"</span> <span class="na">alt=</span><span class="s">""</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;/span&gt;</span>
                <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"SearchFieldText"</span><span class="nt">&gt;&lt;/span&gt;</span>
                <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"SearchFieldButton"</span><span class="nt">&gt;</span>
                  <span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">"/images/Admin/Buttons/search.gif"</span> <span class="na">alt=</span><span class="s">""</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;/span&gt;</span>
              <span class="nt">&lt;/a&gt;</span>
            <span class="nt">&lt;/div&gt;</span>
          <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
      <span class="nt">&lt;/div&gt;</span>
      <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"Field ImagePickerRender"</span><span class="nt">&gt;&lt;/div&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span></code></pre></div> </div> <div class="tab-pane" id="example-image-picker-display"> <div class="copy-code" title="Copy to Clipboard" data-trigger="manual" data-placement="left" data-container="body"> <i class="fa fa-files-o"></i> </div> <div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;script&gt;</span>
<span class="kd">function</span> <span class="nx">imageHighlighterRender</span><span class="p">(</span><span class="nx">o</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">html</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">'&lt;p class="circle" style="background-image: url('</span> <span class="o">+</span> <span class="nx">o</span><span class="p">.</span><span class="nx">settings</span><span class="p">.</span><span class="nx">image</span><span class="p">.</span><span class="nx">url</span> <span class="o">+</span> <span class="s1">')"&gt;'</span><span class="p">,</span>
    <span class="s1">'&lt;span class="text"&gt;'</span> <span class="o">+</span> <span class="nx">o</span><span class="p">.</span><span class="nx">settings</span><span class="p">.</span><span class="nx">text</span> <span class="o">+</span> <span class="s1">'&lt;/span&gt;'</span><span class="p">,</span>
    <span class="s1">'&lt;/p&gt;'</span>
  <span class="p">];</span>
  <span class="nx">$</span><span class="p">(</span><span class="s1">'#'</span> <span class="o">+</span> <span class="nx">o</span><span class="p">.</span><span class="nx">elementId</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="nx">html</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s1">''</span><span class="p">));</span>
<span class="p">}</span>
<span class="nt">&lt;/script&gt;</span></code></pre></div> </div> </div> <h3 id="example-image-folder-picker">Image Folder Picker</h3> <p>Again, the Custom Content Part is also exposing mechanisms to launch the image folder picker.</p> <ul> <li><code>BLACKBAUD.api.customPartEditor.canLaunchImageFolderPicker</code></li> <li><code>BLACKBAUD.api.customPartEditor.launchImageFolderPicker</code></li> </ul> <p>In this example, we're also introducing the use of the <a href="/bbis/reference/rest/#imageapi">Images endpoint</a> of our <a href="/bbis/reference/rest/">REST API</a>, but you could also easily use the <a href="/bbis/reference/javascript/#imageapi">ImageService</a>. In an effort to make the end result more visually appealing to the end user, we've also chosen to use the <a href="http://owlgraphic.com/owlcarousel/">OWL Carousel</a>.</p> <ul class="nav nav-tabs"> <li class="active"><a href="#example-image-folder-picker-initialize" data-toggle="tab">Initialize</a></li> <li><a href="#example-image-folder-picker-editor" data-toggle="tab">Editor</a></li> <li><a href="#example-image-folder-picker-display" data-toggle="tab">Display</a></li> <li class="tab-download"> <a href="http://www.github.com/blackbaud-community/BBIS-Custom-Content-Parts" target="_blank" data-toggle="tooltip" data-placement="left" title="Download on GitHub"> <i class="fa fa-github"></i> </a> </li> </ul> <div class="tab-content"> <div class="tab-pane active" id="example-image-folder-picker-initialize"> <div class="copy-code" title="Copy to Clipboard" data-trigger="manual" data-placement="left" data-container="body"> <i class="fa fa-files-o"></i> </div> <div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">imageFolderPickerRender</span></code></pre></div> </div> <div class="tab-pane" id="example-image-folder-picker-editor"> <div class="copy-code" title="Copy to Clipboard" data-trigger="manual" data-placement="left" data-container="body"> <i class="fa fa-files-o"></i> </div> <div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;p&gt;</span>
  <span class="nt">&lt;strong&gt;</span>Selected Folder Name:<span class="nt">&lt;/strong&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"selected-folder-name"</span><span class="nt">&gt;&lt;/span&gt;</span>
<span class="nt">&lt;/p&gt;</span>
    
<span class="nt">&lt;p&gt;</span>
  <span class="nt">&lt;strong&gt;</span>Selected Folder GUID:<span class="nt">&lt;/strong&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"selected-folder-guid"</span><span class="nt">&gt;&lt;/span&gt;</span>
<span class="nt">&lt;/p&gt;</span>
  
<span class="nt">&lt;p&gt;</span>
  <span class="nt">&lt;button</span> <span class="na">class=</span><span class="s">"btn-select"</span><span class="nt">&gt;</span>Select Folder<span class="nt">&lt;/button&gt;</span>
<span class="nt">&lt;/p&gt;</span>
      
<span class="nt">&lt;script&gt;</span>
<span class="o">!</span><span class="kd">function</span><span class="p">(</span><span class="nx">$</span><span class="p">)</span> <span class="p">{</span>
  
  <span class="nx">$</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    
    <span class="c1">// Read our previously saved name (if it exists)</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">BLACKBAUD</span><span class="p">.</span><span class="nx">api</span><span class="p">.</span><span class="nx">customPartEditor</span><span class="p">.</span><span class="nx">settings</span><span class="p">.</span><span class="nx">selectedName</span> <span class="o">!=</span> <span class="s1">''</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">$</span><span class="p">(</span><span class="s1">'.selected-folder-name'</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="nx">BLACKBAUD</span><span class="p">.</span><span class="nx">api</span><span class="p">.</span><span class="nx">customPartEditor</span><span class="p">.</span><span class="nx">settings</span><span class="p">.</span><span class="nx">selectedName</span><span class="p">);</span>
    <span class="p">}</span>
    
    <span class="c1">// Read our previously saved url (if it exists)</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">BLACKBAUD</span><span class="p">.</span><span class="nx">api</span><span class="p">.</span><span class="nx">customPartEditor</span><span class="p">.</span><span class="nx">settings</span><span class="p">.</span><span class="nx">selectedGuid</span> <span class="o">!=</span> <span class="s1">''</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">$</span><span class="p">(</span><span class="s1">'.selected-folder-guid'</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="nx">BLACKBAUD</span><span class="p">.</span><span class="nx">api</span><span class="p">.</span><span class="nx">customPartEditor</span><span class="p">.</span><span class="nx">settings</span><span class="p">.</span><span class="nx">selectedGuid</span><span class="p">);</span>
    <span class="p">}</span>
    
    <span class="c1">// We must implement the onSave method</span>
    <span class="c1">// Returning true or false controls whether the save is successful</span>
    <span class="nx">BLACKBAUD</span><span class="p">.</span><span class="nx">api</span><span class="p">.</span><span class="nx">customPartEditor</span><span class="p">.</span><span class="nx">onSave</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      
      <span class="c1">// Save our settings</span>
      <span class="nx">BLACKBAUD</span><span class="p">.</span><span class="nx">api</span><span class="p">.</span><span class="nx">customPartEditor</span><span class="p">.</span><span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
        <span class="na">selectedName</span><span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'.selected-folder-name'</span><span class="p">).</span><span class="nx">text</span><span class="p">(),</span>
        <span class="na">selectedGuid</span><span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'.selected-folder-guid'</span><span class="p">).</span><span class="nx">text</span><span class="p">()</span>
      <span class="p">};</span>
      
      <span class="c1">// Required to allow the settings to save and the part to close</span>
      <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
    <span class="p">};</span>
    
    <span class="c1">// Bind to the link launcher button</span>
    <span class="nx">$</span><span class="p">(</span><span class="s1">'.btn-select'</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
      
      <span class="c1">// Stop the button from submitting our form</span>
      <span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
              
      <span class="c1">// Launch the link picker, passing in our callback</span>
      <span class="nx">BLACKBAUD</span><span class="p">.</span><span class="nx">api</span><span class="p">.</span><span class="nx">customPartEditor</span><span class="p">.</span><span class="nx">folders</span><span class="p">.</span><span class="nx">launchImageFolderPicker</span><span class="p">({</span>
        <span class="na">callback</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">selectedFolder</span><span class="p">)</span> <span class="p">{</span>
          <span class="nx">$</span><span class="p">(</span><span class="s1">'.selected-folder-name'</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="nx">selectedFolder</span><span class="p">.</span><span class="nx">folderName</span><span class="p">);</span>
          <span class="nx">$</span><span class="p">(</span><span class="s1">'.selected-folder-guid'</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="nx">selectedFolder</span><span class="p">.</span><span class="nx">folderGUID</span><span class="p">);</span>
        <span class="p">}</span>
      <span class="p">});</span>
        
    <span class="p">})</span>
    
  <span class="p">});</span>
  
<span class="p">}(</span><span class="nx">jQuery</span><span class="p">);</span>     
<span class="nt">&lt;/script&gt;</span></code></pre></div> </div> <div class="tab-pane" id="example-image-folder-picker-display"> <div class="copy-code" title="Copy to Clipboard" data-trigger="manual" data-placement="left" data-container="body"> <i class="fa fa-files-o"></i> </div> <div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"carousel"</span><span class="nt">&gt;</span>Loading...<span class="nt">&lt;/div&gt;</span>

<span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">href=</span><span class="s">"//cdnjs.cloudflare.com/ajax/libs/owl-carousel/1.3.2/owl.carousel.min.css"</span><span class="nt">&gt;</span>
<span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">href=</span><span class="s">"//cdnjs.cloudflare.com/ajax/libs/owl-carousel/1.3.2/owl.theme.min.css"</span><span class="nt">&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"//cdnjs.cloudflare.com/ajax/libs/owl-carousel/1.3.2/owl.carousel.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
    
<span class="nt">&lt;script&gt;</span>
<span class="kd">function</span> <span class="nx">imageFolderPickerRender</span><span class="p">(</span><span class="nx">instance</span><span class="p">)</span> <span class="p">{</span>
  
  <span class="kd">var</span> <span class="nx">placeholder</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#'</span> <span class="o">+</span> <span class="nx">instance</span><span class="p">.</span><span class="nx">elementId</span> <span class="o">+</span> <span class="s1">' .carousel'</span><span class="p">);</span>
  
  <span class="nx">placeholder</span><span class="p">.</span><span class="nx">owlCarousel</span><span class="p">({</span>
    <span class="na">singleItem</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="na">jsonPath</span><span class="p">:</span> <span class="nx">BLACKBAUD</span><span class="p">.</span><span class="nx">api</span><span class="p">.</span><span class="nx">pageInformation</span><span class="p">.</span><span class="nx">rootPath</span> <span class="o">+</span> <span class="s1">'/WebApi/Images?FolderGUID='</span> <span class="o">+</span> <span class="nx">instance</span><span class="p">.</span><span class="nx">settings</span><span class="p">.</span><span class="nx">selectedGuid</span><span class="p">,</span>
    <span class="na">jsonSuccess</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">images</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">content</span> <span class="o">=</span> <span class="s1">''</span><span class="p">;</span>
      <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">j</span> <span class="o">=</span> <span class="nx">images</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">j</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">content</span> <span class="o">+=</span> <span class="s1">'&lt;img src="'</span> <span class="o">+</span> <span class="nx">images</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">Url</span> <span class="o">+</span> <span class="s1">'" alt="'</span> <span class="o">+</span> <span class="nx">images</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">Caption</span> <span class="o">+</span> <span class="s1">'" /&gt;'</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="nx">placeholder</span><span class="p">.</span><span class="nx">html</span><span class="p">(</span><span class="nx">content</span><span class="p">);</span>    
    <span class="p">}</span>
  <span class="p">});</span> 
<span class="p">}</span>
<span class="nt">&lt;/script&gt;</span></code></pre></div> </div> </div> </div> <!-- .col-md-9 --> </div> <!-- .row --> </div> <!-- .container --> </div> <!-- .content --> <div class="footer"> <div class="container"> <div class="row"> <div class="col-xs-6 col-sm-4"> <p> <a href="/bbis"> <img src="/bbis/assets/img/logo-lonely.png" alt="Blackbaud Internet Solutions" class="img-responsive" /> </a> </p> <ul class="list-unstyled"> <li> <a href="/bbis/start/">Getting Started</a> </li> <li> <a href="/bbis/guide/">Developer Guide</a> </li> <li> <a href="/bbis/reference/">Technical Reference</a> </li> <li> <a href="/bbis/code/">Code Samples</a> </li> <li> <a href="/bbis/help/">Help</a> </li> </ul> <!-- .list-unstyled --> </div> <!-- .col-sm-4 --> <div class="col-xs-6 col-sm-4"> <p> <a href="http://www.bbdevnetwork.com" target="_blank"> <img src="/bbis/assets/img/logo-developer-small.png" alt="Blackbaud Developer Network" class="img-responsive" /> </a> </p> <ul class="list-unstyled"> <li> <a href="https://www.blackbaud.com/nonprofit-resources/sdk-resources.aspx" target="_blank"> Blackbaud Infinity SDK </a> </li> <li> <a href="http://open.convio.com/" target="_blank"> Blackbaud Luminate </a> </li> <li> <a href="https://www.blackbaud.com/files/support/netcommunity-developer/netcommunity-developer.htm" target="_blank"> Blackbaud NetCommunity </a> </li> <li> <a href="https://www.blackbaud.com/files/support/guides/re7ent/api.pdf" target="_blank"> Blackbaud Raiser's Edge </a> </li> <li> <a href="http://developer.everydayhero.com" target="_blank"> Everyday Hero </a> </li> </ul> <!-- .list-unstyled --> </div> <!-- .col-sm-4 --> <div class="col-sm-4"> <div class="row"> <div class="col-sm-12"> <ul class="list-inline bb-love"> <li> <a href="http://www.blackbaud.com" target="_blank"> <img src="/bbis/assets/img/logo-bb-white.png" alt="Blackbaud" class="img-responsive" /> </a> </li> <li> <i class="fa fa-lg fa-plus"></i> </li> <li> <a href="http://www.github.com/blackbaud-community" target="_blank"> <img src="/bbis/assets/img/logo-github.png" alt="GitHub" class="img-responsive" /> </a> </li> </ul> <!-- .list-inline --> </div> <!-- .col-sm-12 --> </div> <!-- .row --> <div class="row"> <div class="col-sm-12"> <ul class="list-inline social-icons"> <li> <a href="https://github.com/blackbaud-community" target="_blank"> <i class="fa fa-github"></i> </a> </li> <li> <a href="https://plus.google.com/113382459921828617974" target="_blank"> <i class="fa fa-google-plus"></i> </a> </li> <li> <a href="http://twitter.com/blackbaud" target="_blank"> <i class="fa fa-twitter"></i> </a> </li> <li> <a href="https://www.facebook.com/blackbaud" target="_blank"> <i class="fa fa-facebook"></i> </a> </li> <li> <a href="http://www.youtube.com/user/blackbaudinc" target="_blank"> <i class="fa fa-youtube"></i> </a> </li> </ul> <!-- .list-inline --> </div> <!-- .col-sm-12 --> </div> <!-- .row --> </div> <!-- .col-sm-4 --> </div> <!-- .row --> </div> <!-- .container --> </div> <!-- .footer --> <div class="copyright"> <div class="container"> <div class="row"> <div class="col-sm-6"> <p>&copy; 2014 Blackbaud, Inc. All rights reserved.</p> </div> <div class="col-sm-6"> <p class="feedback-link"> <a href="/bbis/help/">Provide Feedback</a> </p> </div> </div> </div> </div> <!-- .copyright --> <div id="omnibar"> &nbsp; </div> <script src="//code.jquery.com/jquery-1.11.1.min.js"></script> <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script> <script src="/bbis/assets/js/combine.site.js?v=2018-11-01-18:16:41"></script> </body> </html>